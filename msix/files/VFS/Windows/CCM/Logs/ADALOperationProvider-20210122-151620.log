<![LOG[Getting AAD (device) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="16:56:30.588+180" date="11-12-2020" component="ADALOperationProvider" context="" type="1" thread="12268" file="Token.cpp:91">
<![LOG[Getting AAD (device) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="16:56:36.166+180" date="11-12-2020" component="ADALOperationProvider" context="" type="1" thread="4588" file="Token.cpp:91">
<![LOG[Getting AAD (device) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="16:57:04.557+180" date="11-12-2020" component="ADALOperationProvider" context="" type="1" thread="2060" file="Token.cpp:91">
<![LOG[Getting AAD (device) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="16:58:32.410+180" date="11-12-2020" component="ADALOperationProvider" context="" type="1" thread="9312" file="Token.cpp:91">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="16:58:51.660+180" date="11-12-2020" component="ADALOperationProvider" context="" type="1" thread="7456" file="Token.cpp:91">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="16:58:57.238+180" date="11-12-2020" component="ADALOperationProvider" context="" type="1" thread="9168" file="Token.cpp:91">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="16:59:46.355+180" date="11-12-2020" component="ADALOperationProvider" context="" type="1" thread="4080" file="Token.cpp:91">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="16:59:46.870+180" date="11-12-2020" component="ADALOperationProvider" context="" type="1" thread="8664" file="Token.cpp:91">
<![LOG[Getting AAD (device) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="13:56:41.594+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="6196" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 5, Details 'AAD WAM extension error']LOG]!><time="13:56:54.765+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="6196" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
The network location cannot be reached. For information about network troubleshooting, see Windows Help. (Error: 800704CF; Source: Windows)]LOG]!><time="13:56:54.765+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="6196" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-5-18' from WAM API. Error 0x800704cf]LOG]!><time="13:56:54.765+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="6196" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="13:56:54.953+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9288" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="13:56:55.724+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9288" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-5-18]LOG]!><time="13:56:55.734+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9288" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='0']LOG]!><time="13:56:55.734+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9288" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> Microsoft.IdentityModel.Clients.ActiveDirectory.AdalException: get_user_name_failed: Failed to get user name ---> System.ComponentModel.Win32Exception: No mapping between account names and security IDs was done
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Platform.PlatformInformation.<>c.<GetUserPrincipalNameAsync>b__1_0()
   at System.Threading.Tasks.Task`1.InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Platform.PlatformInformation.<GetUserPrincipalNameAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreRunAsync>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) Microsoft.IdentityModel.Clients.ActiveDirectory.AdalException: get_user_name_failed: Failed to get user name ---> System.ComponentModel.Win32Exception: No mapping between account names and security IDs was done
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Platform.PlatformInformation.<>c.<GetUserPrincipalNameAsync>b__1_0()
   at System.Threading.Tasks.Task`1.InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Platform.PlatformInformation.<GetUserPrincipalNameAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreRunAsync>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
	ErrorCode: get_user_name_failed<---

]LOG]!><time="13:57:15.000+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9288" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="13:57:15.016+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9288" file="adaloperationprovider.cpp:279">
<![LOG[Getting AAD (device) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="13:57:49.500+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10320" file="Token.cpp:91">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="13:58:24.531+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7032" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 5d93998e-89d9-43d6-8dee-0182eea69d00
Correlation ID: 072e8f26-666b-4460-ac35-337edd4cd17d
Timestamp: 2021-01-22 16:58:28Z']LOG]!><time="13:58:36.250+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7032" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="13:58:36.250+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7032" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="13:58:36.250+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="7032" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="13:58:36.344+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10052" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="13:58:36.344+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10052" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="13:58:36.344+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10052" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="13:58:36.344+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10052" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="13:58:38.031+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="10052" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="13:58:38.031+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="10052" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:00:32.208+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7032" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 5d93998e-89d9-43d6-8dee-0182eea69d00
Correlation ID: 072e8f26-666b-4460-ac35-337edd4cd17d
Timestamp: 2021-01-22 16:58:28Z']LOG]!><time="14:00:32.240+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7032" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:00:32.240+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7032" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:00:32.240+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="7032" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:00:32.255+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10052" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:00:32.255+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10052" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:00:32.255+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10052" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:00:35.177+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="10052" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:00:35.177+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="10052" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:04:14.906+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7280" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 352c74a6-d150-4766-b91b-f1c2dc428400
Correlation ID: 5cd4e65f-8695-4ab5-999d-92ac069f8e11
Timestamp: 2021-01-22 17:04:17Z']LOG]!><time="14:04:16.312+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7280" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:04:16.312+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7280" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:04:16.312+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="7280" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="14:04:16.359+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10376" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:04:16.375+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10376" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:04:16.375+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10376" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:04:16.375+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10376" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:04:18.422+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="10376" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:04:18.422+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="10376" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:04:32.625+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9300" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 352c74a6-d150-4766-b91b-f1c2dc428400
Correlation ID: 5cd4e65f-8695-4ab5-999d-92ac069f8e11
Timestamp: 2021-01-22 17:04:17Z']LOG]!><time="14:04:32.640+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9300" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:04:32.640+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9300" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:04:32.640+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="9300" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:04:32.640+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10376" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:04:32.656+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10376" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:04:32.656+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10376" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:04:34.578+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="10376" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:04:34.578+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="10376" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:04:34.828+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7032" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 352c74a6-d150-4766-b91b-f1c2dc428400
Correlation ID: 5cd4e65f-8695-4ab5-999d-92ac069f8e11
Timestamp: 2021-01-22 17:04:17Z']LOG]!><time="14:04:34.859+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7032" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:04:34.859+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7032" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:04:34.859+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="7032" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:04:34.875+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7176" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:04:34.875+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7176" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:04:34.875+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7176" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:04:36.875+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7176" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:04:36.890+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7176" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:05:34.765+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9300" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 352c74a6-d150-4766-b91b-f1c2dc428400
Correlation ID: 5cd4e65f-8695-4ab5-999d-92ac069f8e11
Timestamp: 2021-01-22 17:04:17Z']LOG]!><time="14:05:34.787+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9300" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:05:34.789+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9300" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:05:34.789+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="9300" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:05:34.795+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7176" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:05:34.797+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7176" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:05:34.798+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7176" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:05:37.252+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7176" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:05:37.254+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7176" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (device) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:07:22.553+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7928" file="Token.cpp:91">
<![LOG[Getting AAD (device) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:07:22.815+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10584" file="Token.cpp:91">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:07:37.319+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9300" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: c737f2a8-cb67-462b-9961-dd0673ce8100
Correlation ID: 68e1bf8e-d279-4c3a-8512-9631911a5298
Timestamp: 2021-01-22 17:07:40Z']LOG]!><time="14:07:40.449+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9300" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:07:40.451+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9300" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:07:40.451+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="9300" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="14:07:40.468+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7176" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:07:40.473+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7176" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:07:40.474+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7176" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:07:40.475+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7176" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:07:42.369+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7176" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:07:42.371+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7176" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:19:18.842+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="4620" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 2d27918b-86a2-4618-ac7d-788e03d68800
Correlation ID: 49f3eca3-4dcd-4b8b-b0e0-b5c028638150
Timestamp: 2021-01-22 17:19:21Z']LOG]!><time="14:19:20.966+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="4620" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:19:20.970+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="4620" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:19:20.970+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="4620" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="14:19:21.173+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10072" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:19:21.325+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10652" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:19:21.329+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10652" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:19:21.331+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="10652" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:19:26.999+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="10652" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:19:27.001+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="10652" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:27:22.658+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9312" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 1ab08540-3194-454f-8ccc-3f05bd037f00
Correlation ID: a255c254-0157-4dd5-92c1-0a461ccfcb4c
Timestamp: 2021-01-22 17:27:25Z']LOG]!><time="14:27:24.081+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9312" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:27:24.083+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9312" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:27:24.083+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="9312" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="14:27:24.162+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9536" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:27:24.211+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9536" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:27:24.212+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9536" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:27:24.213+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9536" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:27:26.525+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9536" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:27:26.526+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9536" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:28:26.570+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9312" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 1ab08540-3194-454f-8ccc-3f05bd037f00
Correlation ID: a255c254-0157-4dd5-92c1-0a461ccfcb4c
Timestamp: 2021-01-22 17:27:25Z']LOG]!><time="14:28:26.585+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9312" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:28:26.586+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9312" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:28:26.587+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="9312" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="14:28:26.598+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="4708" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:28:26.600+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="4708" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:28:26.602+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="4708" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:28:26.602+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="4708" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:28:27.775+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="4708" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:28:27.776+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="4708" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:30:27.806+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9312" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: f55a92ba-7be1-459a-ad0b-05ed7ed88600
Correlation ID: 3c870efe-a1d7-4a95-88e4-47626a6eeeef
Timestamp: 2021-01-22 17:30:30Z']LOG]!><time="14:30:29.345+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9312" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:30:29.346+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9312" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:30:29.346+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="9312" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="14:30:29.422+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="4348" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:30:29.472+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="4348" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:30:29.473+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="4348" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:30:29.474+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="4348" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:30:31.283+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="4348" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:30:31.285+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="4348" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:34:27.208+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5668" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: fb5b7186-b6fa-4501-bd14-c72f6a67af00
Correlation ID: 1000ba52-f4e0-4ede-a79c-20d107c25692
Timestamp: 2021-01-22 17:34:29Z']LOG]!><time="14:34:28.993+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5668" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:34:28.995+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5668" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:34:28.995+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="5668" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="14:34:29.068+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9808" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:34:29.119+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9808" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:34:29.120+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9808" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:34:29.120+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="9808" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:34:31.668+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9808" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:34:31.670+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="9808" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:49:31.879+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="2500" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 84638b18-b1d4-4f8c-87f3-4eab5bb98b00
Correlation ID: 2b121130-1a3e-4ae8-a588-ec896fc2552c
Timestamp: 2021-01-22 17:49:34Z']LOG]!><time="14:49:33.305+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="2500" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:49:33.306+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="2500" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:49:33.306+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="2500" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="14:49:33.369+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="2492" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:49:33.442+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="2492" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:49:33.444+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="2492" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:49:33.445+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="2492" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:49:36.020+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="2492" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:49:36.021+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="2492" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:58:09.042+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5676" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 61cac9ec-15c0-489f-a0f9-aab1fc937d00
Correlation ID: 2d306980-3515-4346-92b3-44e20fb2348c
Timestamp: 2021-01-22 17:58:13Z']LOG]!><time="14:58:12.479+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5676" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:58:12.483+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5676" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:58:12.483+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="5676" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="14:58:12.678+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5216" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:58:12.798+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5216" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:58:12.800+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5216" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:58:12.803+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5216" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:58:14.832+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5216" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:58:14.834+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5216" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="14:59:14.893+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5676" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 61cac9ec-15c0-489f-a0f9-aab1fc937d00
Correlation ID: 2d306980-3515-4346-92b3-44e20fb2348c
Timestamp: 2021-01-22 17:58:13Z']LOG]!><time="14:59:14.917+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5676" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="14:59:14.919+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5676" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="14:59:14.920+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="5676" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="14:59:14.940+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5216" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="14:59:14.944+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5216" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="14:59:14.946+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5216" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="14:59:14.947+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5216" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="14:59:16.200+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5216" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="14:59:16.201+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5216" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="15:01:16.234+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5676" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: ffa213c7-83ef-477a-b206-c3b8802f8e00
Correlation ID: 1a6a4a38-4f0c-4d21-a495-19f868837dc6
Timestamp: 2021-01-22 18:01:18Z']LOG]!><time="15:01:17.548+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5676" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="15:01:17.550+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5676" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="15:01:17.550+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="5676" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="15:01:17.565+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5216" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="15:01:17.568+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5216" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="15:01:17.569+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5216" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="15:01:17.570+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5216" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="15:01:18.993+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5216" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="15:01:18.994+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5216" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="15:04:36.272+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5508" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 59604237-d95a-4556-9b36-d5259a037a00
Correlation ID: 5b60379d-c59f-458b-8654-3dd1cb2957e1
Timestamp: 2021-01-22 18:04:38Z']LOG]!><time="15:04:38.018+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5508" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="15:04:38.019+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5508" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="15:04:38.020+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="5508" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="15:04:38.112+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="2128" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="15:04:38.164+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="2052" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="15:04:38.166+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="2052" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="15:04:38.167+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="2052" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="15:04:40.065+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="2052" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="15:04:40.068+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="2052" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (device) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="15:12:45.498+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="3184" file="Token.cpp:91">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="15:14:38.574+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7520" file="Token.cpp:91">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="15:14:41.553+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7028" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 4552b7ca-50e4-4284-8e43-330b9d688000
Correlation ID: b7d2df51-87a4-413f-96b8-ccd2883fb3db
Timestamp: 2021-01-22 18:14:45Z']LOG]!><time="15:14:46.435+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7520" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="15:14:46.451+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7520" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="15:14:46.451+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="7520" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="15:14:46.536+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="4216" file="adaloperationprovider.cpp:185">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="15:14:46.542+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="8180" file="Token.cpp:91">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="15:14:46.809+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="4216" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="15:14:46.816+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="4216" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="15:14:46.823+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="4216" file="adaloperationprovider.cpp:96">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 4552b7ca-50e4-4284-8e43-330b9d688000
Correlation ID: b7d2df51-87a4-413f-96b8-ccd2883fb3db
Timestamp: 2021-01-22 18:14:45Z']LOG]!><time="15:14:49.647+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="8180" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="15:14:49.660+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="8180" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="15:14:49.660+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="8180" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="15:14:49.706+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5972" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="15:14:49.709+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5972" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="15:14:49.711+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="5972" file="adaloperationprovider.cpp:96">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 9aec1e3f-63da-42b3-a6c3-36a37df17d00
Correlation ID: c0f70414-a412-4316-825f-7e4750699a9e
Timestamp: 2021-01-22 18:14:50Z']LOG]!><time="15:14:49.923+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7028" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="15:14:49.926+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7028" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="15:14:49.926+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="7028" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="15:14:49.948+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="6208" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="15:14:49.951+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="6208" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="15:14:49.963+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="6208" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="15:14:50.970+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="4216" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="15:14:50.974+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="4216" file="adaloperationprovider.cpp:287">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="15:14:51.122+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5972" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="15:14:51.126+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="5972" file="adaloperationprovider.cpp:287">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="15:14:51.353+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="6208" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="15:14:51.356+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="6208" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="15:14:51.372+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7520" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 9aec1e3f-63da-42b3-a6c3-36a37df17d00
Correlation ID: c0f70414-a412-4316-825f-7e4750699a9e
Timestamp: 2021-01-22 18:14:50Z']LOG]!><time="15:14:51.510+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7520" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="15:14:51.512+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7520" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="15:14:51.513+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="7520" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="15:14:51.546+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="6208" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="15:14:51.549+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="6208" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="15:14:51.551+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="6208" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="15:14:53.825+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="6208" file="adaloperationprovider.cpp:138">
<![LOG[Failed to get AAD token for logged on user, Error 0x80004005]LOG]!><time="15:14:53.828+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="6208" file="adaloperationprovider.cpp:287">
<![LOG[Getting AAD (user) token with: ClientId = 77fc0c5f-05bb-4d2c-9b26-f6552561658f, ResourceUrl = https://EMMConfigMgrService, AccountId = https://login.microsoftonline.com/common/oauth2/token, AllowInteractive = 0]LOG]!><time="15:16:19.310+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="7460" file="Token.cpp:91">
<![LOG[WAM token request failed. Status 3, Details 'AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'a686925a-1a7c-43f4-a51e-8715c2ed2525'.
Trace ID: 9aec1e3f-63da-42b3-a6c3-36a37df17d00
Correlation ID: c0f70414-a412-4316-825f-7e4750699a9e
Timestamp: 2021-01-22 18:14:50Z']LOG]!><time="15:16:19.352+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7460" file="Token.cpp:244">
<![LOG[Failed to get AAD token.. 
Unknown error (Error: CAA2000C; Source: Unknown)]LOG]!><time="15:16:19.355+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="7460" file="Token.cpp:351">
<![LOG[Failed to get AAD token for 'S-1-12-1-3006011115-1316832820-912379291-2706211997' from WAM API. Error 0xcaa2000c]LOG]!><time="15:16:19.355+180" date="01-22-2021" component="ADALOperationProvider" context="" type="2" thread="7460" file="CcmToken.cpp:2486">
<![LOG[CADALOperationProvider::Initialize - Initialize called for the provider.]LOG]!><time="15:16:19.395+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="6208" file="adaloperationprovider.cpp:185">
<![LOG[CADALOperationProvider::ExecMethodAsync - ExecMethod called for the provider.]LOG]!><time="15:16:19.401+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="6208" file="adaloperationprovider.cpp:220">
<![LOG[Getting AAD token for logged on user. Authority: https://login.microsoftonline.com/common/oauth2/token ClientId: 77fc0c5f-05bb-4d2c-9b26-f6552561658f ResourceId: https://EMMConfigMgrService UserSID: S-1-12-1-3006011115-1316832820-912379291-2706211997]LOG]!><time="15:16:19.404+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="6208" file="adaloperationprovider.cpp:272">
<![LOG[Attempting to obtain AAD token. WebAccountProviderId='https://login.windows.net', Authority='https://login.microsoftonline.com/common/oauth2/token', ClientID='77fc0c5f-05bb-4d2c-9b26-f6552561658f', ResourceId='https://EMMConfigMgrService', SessionId='2']LOG]!><time="15:16:19.406+180" date="01-22-2021" component="ADALOperationProvider" context="" type="1" thread="6208" file="adaloperationprovider.cpp:96">
<![LOG[Failed to retrieve AAD token. Error Details: A generic error occurred while acquiring user token. Error: System.AggregateException: One or more errors occurred. ---> System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireTokenInternal(String authority, String clientId, String resourceId, String& accessToken, String& userId, String& errorDetails)
   at Microsoft.ConfigurationManager.ADAL.AdalWrapper.AcquireToken2(String authority, String clientId, String resourceId, UInt32 sessionId, String& accessToken, String& userId, String& errorDetails)
---> (Inner Exception #0) System.Net.Http.HttpRequestException: An error occurred while sending the request. ---> System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.Socket.EndReceive(IAsyncResult asyncResult)
   at System.Net.Sockets.NetworkStream.EndRead(IAsyncResult asyncResult)
   --- End of inner exception stack trace ---
   at System.Net.TlsStream.EndWrite(IAsyncResult asyncResult)
   at System.Net.ConnectStream.WriteHeadersCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at System.Net.Http.HttpClientHandler.GetResponseCallback(IAsyncResult ar)
   --- End of inner exception stack trace ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Http.HttpClientWrapper.<GetResponseAsync>d__31.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchMexAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.WsTrust.MexParser.<FetchWsTrustAddressFromMexAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenNonInteractiveHandler.<PreTokenRequestAsync>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.Internal.Flows.AcquireTokenHandlerBase.<RunAsync>d__57.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContext.<AcquireTokenCommonAsync>d__37.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.IdentityModel.Clients.ActiveDirectory.AuthenticationContextIntegratedAuthExtensions.<AcquireTokenAsync>d__0.MoveNext()<---

]LOG]!><time="15:16:20.651+180" date="01-22-2021" component="ADALOperationProvider" context="" type="3" thread="6208" file="adaloperationprovider.cpp:138">
